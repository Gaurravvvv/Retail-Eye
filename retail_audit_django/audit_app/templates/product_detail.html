{% extends 'base.html' %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="mc-panel">
            <div class="text-center mb-4">
                <h2 style="color: #3f3f3f; text-shadow: none;">ITEM DETAILS</h2>
            </div>

            <div class="row">
                <div class="col-md-5 text-center">
                    {% if product.reference_image %}
                    <img src="{{ product.reference_image.url }}" class="img-fluid"
                        style="border: 4px solid #000; box-shadow: 4px 4px 0px #555; image-rendering: pixelated; max-height: 300px;">
                    {% else %}
                    <div class="mc-panel text-center py-5">
                        NO IMAGE
                    </div>
                    {% endif %}
                </div>

                <div class="col-md-7">
                    <div class="mb-3">
                        <label class="mc-label">ITEM NAME</label>
                        <div class="mc-input" style="background: #2b2b2b; border: none; cursor: default;">{{
                            product.name }}</div>
                    </div>

                    <div class="row">
                        <div class="col-6 mb-3">
                            <label class="mc-label">CURRENT STOCK</label>
                            <div class="mc-input"
                                style="background: {% if product.backroom_stock <= product.shelf_threshold %}#550000{% else %}#005500{% endif %}; border: none; cursor: default;">
                                {{ product.backroom_stock }}
                            </div>
                        </div>
                        <div class="col-6 mb-3">
                            <label class="mc-label">THRESHOLD</label>
                            <div class="mc-input" style="background: #2b2b2b; border: none; cursor: default;">{{
                                product.shelf_threshold }}</div>
                        </div>
                    </div>

                    <div class="mt-4">
                        {% if product.backroom_stock <= product.shelf_threshold %} <div class="mc-panel"
                            style="background: #ff5555; color: white;">
                            <strong>WARNING:</strong> STOCK IS LOW! PLEASE RESTOCK.
                    </div>
                    {% else %}
                    <div class="mc-panel" style="background: #55ff55; color: #000;">
                        <strong>STATUS:</strong> STOCK LEVELS NORMAL.
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>

        <div class="mt-4 text-center">
            <a href="{% url 'scan_shelf' %}" class="mc-button" style="width: auto;">BACK TO SCANNER</a>
        </div>
    </div>
</div>
</div>
{% endblock %}